<html DIR="LTR" xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:tool="http://www.microsoft.com/tooltip"><head><META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=Windows-1252"></META><META NAME="save" CONTENT="history"></META><title>Logs</title><link rel="stylesheet" type="text/css" href="../local/Classic.css"></link><script src="../local/script.js"></script></head><body><div><input type="hidden" id="userDataCache" class="userDataStyle"></input><input type="hidden" id="hiddenScrollOffset"></input></div><img id="dropDownImage" style="display:none; height:0; width:0;" src="../local/drpdown.gif"></img><img id="dropDownHoverImage" style="display:none; height:0; width:0;" src="../local/drpdown_orange.gif"></img><img id="collapseImage" style="display:none; height:0; width:0;" src="../local/collapse.gif"></img><img id="expandImage" style="display:none; height:0; width:0;" src="../local/exp.gif"></img><img id="copyImage" style="display:none; height:0; width:0;" src="../local/copycode.gif"></img><img id="copyHoverImage" style="display:none; height:0; width:0;" src="../local/copycodeHighlight.gif"></img><div id="header"><table width="100%" id="topTable"><tr id="headerTableRow1"><td align="left"><span id="runningHeaderText"></span></td></tr><tr id="headerTableRow2"><td align="left"><span id="nsrTitle">Logs</span></td></tr><tr id="headerTableRow3"><td></td></tr></table></div><div id="mainSection"><div id="mainBody"><div id="allHistory" class="saveHistory" onsave="saveAll()" onload="loadAll()"></div><p>A log is generated when a verifier stop occurs during verification of an application. </p><h2 class="heading">Accessing Logs</h2><div id="sectionSection0" class="section"><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5"><p xmlns="">Application Verifier displays a Logs window that contains the applications that have been run previously and the logs associated with them.</p><p xmlns=""><b>To access the log window</b></p><ul xmlns=""><li class="unordered">
							On the 
    <b>View</b>
   menu, select 
    <b>Logs</b>
  . <br /><br /></li></ul><p xmlns=""><b>To view the details of a log</b></p><ul xmlns=""><li class="unordered">
							Select name of the application.<br /><br /></li></ul></content></div><h2 class="heading">Saving/Exporting Logs to XML</h2><div id="sectionSection1" class="section"><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5"><p xmlns="">If you export a log to XML, you can open the log file in Microsoft Internet Explorer or Microsoft Excel.</p><p xmlns=""><b>To export a log to XML</b></p><ol class="ordered" xmlns=""><li>
							Select the application and then the log you wish to export. <br /><br /></li><li>
							Click 
    <b>Save As</b>
  . <br /><br /></li><li>
							Enter the name you want to give the file and its location, and then click 
    <b>Save</b>
  . <br /><br /></li></ol></content></div><h2 class="heading">Filtering Logs</h2><div id="sectionSection2" class="section"><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5"><p xmlns="">You may want to filter log information on items such as Severity, to see warnings only, or to trace where you can define a custom filter to display only items that contain your application. To do so the following procedure is recommended:</p><p xmlns=""><b>To filter a log </b></p><ol class="ordered" xmlns=""><li>
							Save the log to XML and open it in Excel. <br /><br /></li><li>
							In Excel, highlight the first row (containing the column headers).<br /><br /></li><li>
							On the 
    <b>Data</b>
   menu, clicking 
    <b>Filter</b>
  , and then clicking 
    <b>AutoFilter</b>
  . <br /><br /></li></ol></content></div><h2 class="heading">Deleting Logs</h2><div id="sectionSection3" class="section"><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5"><p xmlns="">Application Verifier enables either to delete a log individually or to remove an application and delete all logs associated with it.</p><p xmlns=""><b>To delete a log individually</b></p><ul xmlns=""><li class="unordered">
							Select the log and click 
    <b>Delete</b>
  .<br /><br /></li></ul><p xmlns="">or</p><ul xmlns=""><li class="unordered">
							Right-clicking the log and select 
    <b>Delete</b>
  .<br /><br /></li></ul><p xmlns=""><b>To remove an application and delete all logs associated it</b></p><ul xmlns=""><li class="unordered">
							Right-click the application name and then select 
    <b>Delete</b>
  . <br /><br /></li></ul><p xmlns=""><b>To delete all logs</b></p><ol class="ordered" xmlns=""><li>
							Open the main Application Verifier window.<br /><br /></li><li>
							On the 
    <b>File</b>
   menu, select 
    <b>Clear All Logs</b>
  .<br /><br /></li></ol></content></div><h2 class="heading">Adding Stamps</h2><div id="sectionSection4" class="section"><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5"><p xmlns="">When a process is running, you can add a stamp into its associated log file. The stamp information can be an arbitrary string, such as current time. Later you can use this information as a filter to retrieve the log of interest. </p><p xmlns=""><b>To add a stamp into a log file</b></p><ol class="ordered" xmlns=""><li>
							Select the log file, and then click 
    <b>Add Stamp</b>
  . <br /><br /></li><li>
							Enter a string as the stamp information. <br /><br /></li></ol></content></div><h2 class="heading">Output Options</h2><div id="sectionSection5" class="section"><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5"><p xmlns="">By default, the logs for services/apps running under user accounts are stored under: %USERPROFILE%\serviceprofiles\AppVerifierLogs.</p><p xmlns="">For services/apps running under local service accounts, the log files are written under: %windir%\serviceprofiles\LocalService\AppVerifierLogs</p><p xmlns="">For services/apps running under a system account, the log files are stored under: %windir%\system32\config\systemprofile\AppVerifierLogs for native services, and %windir%\syswow64\config\systemprofile\AppVerifierLogs for wow64 services/apps. </p><p xmlns="">For services/apps running under a network service account, log files are stored under: %windir%\serviceprofiles\NetworkService\AppVerifierLogs.</p><p xmlns="">If the application doesn’t have permissions to write/create the log file in the default log file path, it will fail with the error 0xC0000022.</p><p xmlns="">Setting the VERIFIER_LOG_PATH environmental variable overrides the default log file creation.  This can be useful if you want all your log files stored in a single location.</p><p xmlns="">Protected processes don’t have access to environmental variables and hence cannot create log files.  To work around this, the protected process log path can be set using the AppVerif.EXE command-line: “appverif.exe –sppath &lt;drive:&gt;\&lt;path&gt;” to set the protected log path. </p><p xmlns="">The command line; “appverif.exe –cppath” clears the protected log path.</p><p xmlns="">Symbol path – the symbol path will be used to resolve the stack trace in the log file. If you don’t specify a symbol path, Application Verifier will automatically look at _NT_SYMBOL_PATH to see if any symbol path is specified there. </p><p xmlns="">From, to – You can specify the starting stamp and ending stamp. You will only see the log content, which is recorded after the From stamp is inserted and before the end stamp is inserted. If you do not provide a From or To stamp, Application Verifier will display the log from the very beginning of the file to the end of file respectively.</p></content></div><h2 class="heading">Protected Process Logging</h2><div id="sectionSection6" class="section"><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5"><p xmlns="">Application Verifier log file creation depends on environment variables such as VERIFIER_LOG_PATH and %USERPROFILE%. If a process such as protected (secure) process cannot access these environment variables, it fails to create the log files. The following command line options can be used to set/clear the protected process log path. This log path is used only if the process cannot create log files under VERIFIER_LOG_PATH or %USERPROFILE%.</p><p xmlns=""><b>To set the protected process log path:</b></p><p xmlns="">appverif –sppath [PROTECTED_PROCESS_LOG_PATH].</p><p xmlns="">For ex: The following command line sets the protected process log path to “c:\My Logs\Verifier Logs”.</p><p xmlns="">appverif –sppath “c:\My Logs\Verifier Logs”.</p><p xmlns="">Note: Make sure that “c:\My Logs” exists and the protected process has permission to create files in this path.</p><p xmlns="">The following command line shows the existing protected process log path.</p><p xmlns="">appverif –sppath</p><p xmlns=""><b>To show the existing protected process log path and clear it, use the following command line:</b></p><p xmlns="">appverif -cppath</p><p xmlns="">Note that the “Application Verifier –Logs” window shows the log files in %USERPROFILE% of the logged on user. If you want the protected process logs to show up in this UI, you need to manually copy them to %USERPROFILE%\AppVerifierLogs.</p></content></div><!--[if gte IE 5]>
			<tool:tip element="languageFilterToolTip" avoidmouse="false"/>
		<![endif]--></div><div id="footer"><p></p><hr></hr><br /><br /></div></div></body></html>