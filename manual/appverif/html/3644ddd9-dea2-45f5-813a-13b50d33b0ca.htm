<html DIR="LTR" xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:tool="http://www.microsoft.com/tooltip"><head><META HTTP-EQUIV="Content-Type" CONTENT="text/html; CHARSET=Windows-1252"></META><META NAME="save" CONTENT="history"></META><title>Critical section over released or corrupted</title><link rel="stylesheet" type="text/css" href="../local/Classic.css"></link><script src="../local/script.js"></script></head><body><div><input type="hidden" id="userDataCache" class="userDataStyle"></input><input type="hidden" id="hiddenScrollOffset"></input></div><img id="dropDownImage" style="display:none; height:0; width:0;" src="../local/drpdown.gif"></img><img id="dropDownHoverImage" style="display:none; height:0; width:0;" src="../local/drpdown_orange.gif"></img><img id="collapseImage" style="display:none; height:0; width:0;" src="../local/collapse.gif"></img><img id="expandImage" style="display:none; height:0; width:0;" src="../local/exp.gif"></img><img id="copyImage" style="display:none; height:0; width:0;" src="../local/copycode.gif"></img><img id="copyHoverImage" style="display:none; height:0; width:0;" src="../local/copycodeHighlight.gif"></img><div id="header"><table width="100%" id="topTable"><tr id="headerTableRow1"><td align="left"><span id="runningHeaderText"></span></td></tr><tr id="headerTableRow2"><td align="left"><span id="nsrTitle">Critical section over released or corrupted</span></td></tr><tr id="headerTableRow3"><td></td></tr></table></div><div id="mainSection"><div id="mainBody"><div id="allHistory" class="saveHistory" onsave="saveAll()" onload="loadAll()"></div><p></p><h2 class="heading">Application Verifier break message</h2><div id="sectionSection0" class="section"><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5"><p xmlns=""> Critical section over-released or corrupted </p><p xmlns="">There are several messages that you may receive when hitting this stop. Locks violation detected: </p><ul xmlns=""><li class="unordered">
							The lock &lt;lock address&gt; has been release more often than necessary: actual lock count &lt;count&gt;, expected &lt;count&gt; <br /><br /></li><li class="unordered">
							Thread not supposed to be owning a lock. Number of locks owned is &lt;count&gt; <br /><br /></li><li class="unordered">
							The owner of the lock is invalid, owner &lt;owner&gt; was expected <br /><br /></li><li class="unordered">
							The recursion count is invalid : actual recursion count &lt;count&gt; - expected &lt;count&gt; <br /><br /></li><li class="unordered">
							The lock had been released more that it should: actual lock count -&lt;count&gt; - expected &lt;count&gt;<br /><br /></li></ul></content></div><h2 class="heading">Probable cause</h2><div id="sectionSection1" class="section"><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5"><p xmlns=""> This break is generated if a critical section is released more times than the current thread acquired it.</p></content></div><h2 class="heading">Information displayed by Application Verifier</h2><div id="sectionSection2" class="section"><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5"><p xmlns=""> Parameter1 - Critical section address. Run 
    <b>!cs –s </b><i>address</i>
   to get more information. </p><p xmlns="">Parameter2 - Lock count</p><p xmlns="">Parameter3 - Expected lock count</p><p xmlns="">Parameter4 - Critical section debug information address</p><p xmlns="">Description - Critical section over-released or corrupted</p></content></div><h2 class="heading">Additional information</h2><div id="sectionSection3" class="section"><content xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5"><p xmlns=""> Verifier stop code 0209.</p><p xmlns="">Call Stack – current call stack where lock is being used.</p><p xmlns="">Frequency of this error is high.</p><p xmlns="">To debug this stop:</p><p xmlns="">!cs –s parameter1 - dump information about this critical section. </p><p xmlns="">!cs –s –d parameter4 - dump information about this critical section.</p><p xmlns="">ln parameter1 – to show symbols near the address of the critical section. This should help identify the critical section.</p></content></div><!--[if gte IE 5]>
			<tool:tip element="languageFilterToolTip" avoidmouse="false"/>
		<![endif]--></div><div id="footer"><p></p><hr></hr><br /><br /></div></div></body></html>